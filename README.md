# SSH Manager

跨平台 SSH 终端管理器，支持 Windows、Linux、macOS。

## 功能特性

- ✅ SSH 连接管理：添加、编辑、删除 SSH 连接配置
- ✅ 多种认证方式：密码、密钥、密钥+密码
- ✅ **跳板机支持**：通过跳板机连接到目标服务器（支持密码和密钥认证）
- ✅ 终端模拟器：完整的交互式终端体验（基于 PTY）
- ✅ 多标签页：同时管理多个 SSH 连接
- ✅ 配置同步：支持同步到 私有的Gitee Gist 或 GitHub Gist

## 技术栈

- **Flutter** - 跨平台 UI 框架
- **dartssh2** - SSH 客户端
- **xterm** - 终端模拟器
- **flutter_pty** - 伪终端支持（本地终端交互）
- **JSON 文件** - 本地数据存储（配置文件）
- **Provider** - 状态管理
- **Dio** - HTTP 客户端（用于同步）

## 安装和运行

### 前置要求

- Flutter SDK (3.10.7 或更高版本)
- Dart SDK
- 桌面平台支持（Windows、Linux、macOS）

### 安装依赖

```bash
flutter pub get
```

### 运行应用

```bash
# Windows
flutter run -d windows

# Linux
flutter run -d linux

# macOS
flutter run -d macos
```

## 说明

## 界面描述

主界面是页签式的，每个页签都是一个连接。页面左侧对齐，最右侧是加号和设置2个按钮。

设置按钮，点击打开设置页面。
加号按钮，点击弹出悬浮的连接列表，选择一个连接，打开一个页签终端。连接列表最上方第一个是本地连接，打开本地连接

### 设置页面

左侧是功能页面列表，右侧是对应的设置页面。
功能页面列表分别是终端设置、连接管理、同步设置。
终端设置页面是终端大小、字体、主题等设置。
连接管理页面是添加、编辑、删除连接的设置。
同步设置页面是同步到 Gitee Gist 或 GitHub Gist 的设置。

### 终端设置页面

设置终端大小、字体、主题等。

### 连接管理页面

添加、编辑、删除连接的设置。


### 添加 SSH 连接

1. 点击应用栏的"添加连接"按钮
2. 填写连接信息：
   - 连接名称
   - 主机地址和端口
   - 用户名
   - 选择认证方式（密码/密钥/密钥+密码）
   - 输入相应的认证信息
3. 可选：配置跳板机
4. 点击"保存"

### 配置同步

配置文件采用toml格式，包含ssh连接信息

#### 配置文件导入导出

#### Gitee Gist 同步

#### GitHub Gist 同步（推荐）

1. 点击应用栏的"同步设置"按钮
2. 选择同步平台为 **GitHub Gist**
3. 完成 OAuth 认证（需要 `gist` scope）
4. 配置 Gist 信息：
   - **Gist ID**（可选）：留空将创建新 Gist，填写现有 Gist ID 或 URL 则同步到该 Gist
   - **Gist 文件名**：默认为 `ssh_connections.json`
6. 点击"保存配置"
7. 使用"上传配置"将本地配置上传到 Gist
8. 在新设备上，配置相同的 Gist ID，使用"下载配置"从 Gist 同步配置

## 开发状态

### ✅ 已完成功能
- SSH 连接管理（增删改查）
- 多种认证方式（密码、密钥、密钥+密码）
- 跳板机连接支持（支持密码和密钥认证）
- 交互式终端模拟器（PTY 支持）
- 多标签页管理
- 配置同步（GitHub Gist/Gitee Gist）
- 完整的测试覆盖

### 🚀 主要技术特性
- **完整的终端交互**：基于 flutter_pty 实现真正的 PTY 支持
- **跳板机隧道**：支持通过跳板机建立 SSH 隧道连接
- **跨平台支持**：Windows、Linux、macOS 全平台兼容
- **安全存储**：敏感信息加密存储
- **配置同步**：云端配置同步和备份

### 📋 开发计划
- [ ] 快捷键支持（Ctrl+C, Ctrl+V 等）
- [ ] 连接分组和搜索功能
- [ ] 自动同步功能
- [ ] 连接历史记录

## 项目结构

```
lib/
├── main.dart                    # 应用入口
├── core/                        # 核心配置
│   ├── theme/                   # 主题
│   └── constants/               # 常量
├── data/                        # 数据层
│   ├── models/                  # 数据模型
│   └── repositories/            # 数据仓库
├── domain/                      # 业务逻辑层
│   └── services/                # 业务服务
├── presentation/                # 展示层
│   ├── screens/                 # 页面
│   ├── widgets/                 # 组件
│   └── providers/               # 状态管理
└── utils/                       # 工具类
```

## 许可证

MIT License
